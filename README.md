# MiniSoft Compiler Project

## Project Overview

The MiniSoft Compiler is a complete compiler for the MiniSoft programming language. It implements a full compilation pipeline that includes lexical analysis, syntax parsing, semantic analysis, and intermediate code generation. This project is designed both as an educational tool and a basis for building more advanced compiler projects.

## Technology Stack

- **Language:** Java (JDK 11 or later)
- **Build System:** Apache Maven
- **Parser Generator:** ANTLR4 (version 4.10.1)
- **Testing Framework:** JUnit 5

## Project Architecture

The compiler follows a traditional multi-phase design:

1. **Lexical Analysis**Utilizes an ANTLR4-generated lexer to tokenize the source code.
2. **Syntax Analysis**Uses an ANTLR4-generated parser to build abstract syntax trees (AST) based on the MiniSoft grammar.
3. **Semantic Analysis**Implements custom semantic checks to enforce type safety, proper declarations, and correct use of language constructs. This phase also manages the symbol table.
4. **Intermediate Code Generation**
   Translates the AST into an intermediate representation (quadruplets) for further processing or optimization.

## Language Features

MiniSoft supports a range of features, including:

- **Variable and Array Declarations:**
  - Variables: `let <variable_name>: <type>;`
  - Arrays: `let <variable_name>: [<type>;<size>];`
- **Constants:**Declared using `@define Const <constant_name>: <type>=<value>;`
- **Data Types:**Supports `Int` and `Float` with specific rules for signed numbers.
- **Control Structures:**
  - Conditional statements (`if-then-else`)
  - Loops (`do-while` and `for`)
- **I/O Operations:**
  - `input(variable);`
  - `output("message", variable);`
- **Expressions:**Supports arithmetic (`+`, `-`, `*`, `/`), logical (`AND`, `OR`, `!`), and comparison operators (`<`, `>`, `>=`, `<=`, `==`, `!=`), following defined associativity and precedence rules.
- **Comments:**
  - Single-line: `< !- comment - !>`
  - Multi-line: `{-- comment --}`

## Key Components

- **MiniSoft Grammar:**Defined in ANTLR4 format to specify the language syntax.
- **Symbol Table:**Manages identifiers, types, and scopes throughout the compilation process.
- **Error Handler:**Provides detailed error reporting, including error type, affected entity, and precise location (line and column).
- **Intermediate Code Generator:**
  Produces quadruplets representing operations, serving as the bridge between semantic analysis and the final code generation or interpretation phases.

## Project Structure

```
minisoft-compiler/
├── src/
│   ├── main/
│   │   ├── antlr4/
│   │   │   └── com/minisoft/       # ANTLR4 grammar files (.g4)
│   │   ├── java/
│   │   │   └── com/minisoft/
│   │   │       ├── codegen/         # Intermediate code generation (quadruplets)
│   │   │       ├── error/           # Error handling classes
│   │   │       ├── parser/          # Parser classes generated by ANTLR4
│   │   │       ├── semantic/        # Semantic analysis and symbol table management
│   │   │       └── utils/           # Utility classes (logging, common functions, etc.)
│   │   └── resources/
│   │       └── samples/             # Example MiniSoft programs
│   └── test/                        # Unit and integration tests
├── lib/                             # Additional libraries if needed
├── target/                          # Compiled output
├── pom.xml                          # Maven configuration file
├── compile-and-run.bat              # Convenience script for Windows
└── README.md                        # Project documentation (this file)
```

## Build and Execution

### Building the Project

You can build the project using Maven. Run the following command from the project root:

```bash
mvn clean package
```

This command will compile the source code, generate the ANTLR4 parser classes, run tests, and package the project into a JAR file.

### Running the Compiler

You can run the compiler using the provided batch script or directly via the JAR file. For example, on Windows:

```bash
.\compile-and-run.bat path\to\your\program.ms
```

Alternatively, run the JAR directly:

```bash
java -jar target/minisoft-compiler-1.0-SNAPSHOT.jar path/to/your/program.ms
```

## Testing

Unit tests are written using JUnit 5. To execute the tests, use:

```bash
mvn test
```

This ensures that each component of the compiler—from lexical analysis to code generation—operates correctly.

## Contributing

Contributions are welcome! Please follow these guidelines:

1. Fork the repository.
2. Create a new branch for each feature or bugfix.
3. Commit your changes with clear, descriptive messages.
4. Submit a pull request describing your changes.

## License

This project is licensed under the [MIT License](LICENSE).

## Acknowledgements

- **ANTLR4:** For providing a robust framework for parser generation.
- **JUnit 5:** For enabling effective testing of compiler components.
- **Open-source community:** For various resources and tutorials on compiler design.
